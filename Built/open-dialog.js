function sendToYoutube(){chrome.runtime.sendMessage({type:""+link})}function checkIfYoutubeLink(){return x[i].toString().indexOf("youtube")}function getYoutubeIdLength(e){return getYoutubeId(e).length}function getYoutubeId(e){var t=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,n=x[e].toString().match(t);return n&&n[7]}function appendToLink(e){link=link+e+","}function setupElements(){var e=document.createElement("DIV");e.className="morelink",e.style.marginTop="1em";var t=document.createElement("a");t.innerHTML="Create a Youtube playlist",t.style.cursor="pointer",e.appendChild(t);var n=document.getElementsByClassName("sidebox submit submit-text");return n[0].appendChild(e),t}function listenForAClick(e){e.addEventListener("click",sendToYoutube)}for(var x=document.getElementsByClassName("title may-blank"),link="",i=0;i<x.length;i++)checkIfYoutubeLink()>-1&&11==getYoutubeIdLength(i)&&appendToLink(getYoutubeId(i));listenForAClick(setupElements());